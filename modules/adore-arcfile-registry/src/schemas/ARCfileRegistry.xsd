<?xml version="1.0" encoding="UTF-8"?>
<xsd:schema targetNamespace="http://library.lanl.gov/2005-08/aDORe/ARCfileRegistry/" elementFormDefault="qualified" attributeFormDefault="unqualified" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:tb="http://library.lanl.gov/2005-08/aDORe/XMLtapeBasics/" xmlns:ar="http://library.lanl.gov/2005-08/aDORe/ARCfileRegistry/">
	<xsd:annotation>
		<xsd:documentation>
		This XML Schema defines the content of the ARCfile Registry of the XMLtape/ARCfile storage solution used in aDORe.  Herbert Van de Sompel, August 3rd 2005.
		This Schema is available at http://purl.lanl.gov/aDORe/schemas/2006-09/ARCfileRegistry.xsd .
		</xsd:documentation>
	</xsd:annotation>
	<xsd:import namespace="http://library.lanl.gov/2005-08/aDORe/XMLtapeBasics/" schemaLocation="http://purl.lanl.gov/aDORe/schemas/2006-09/XMLtapeBasics.xsd"/>
	<xsd:element name="ARCfileRegistry" type="ar:ARCfileRegistryType"/>
	<!-- The root element for XML documents that comply with this XML Schema is ARCfileRegistry.  This root element has 5 child elements:
	(*) ARCfileId: mandatory, not repeatable  
	(*) ARCfileFile: mandatory, not repeatable
	(*) ARCfileIndex: mandatory, not repeatable
	(*) openurlURL: mandatory, not repeatable
 	(*) ARCfileAdmin: mandatory, not repeatable
        (*) ARCfileDigest: optional, not repeatable
The semantics and use of these elements is explained below.
-->
		<xsd:complexType name="ARCfileRegistryType">
			<xsd:sequence>
				<xsd:element ref="tb:ARCfileId"/>
				<!-- The content of the ARCfileId element must be the globally unique identifier, expressed as a URI, for the ARC file. Only one identifier can be provided. For a given ARC file, this information must be read from the ARCfileId element that is a child element of the XMLtapeBasics element, which itself is conveyed in a tape-admin element of the XMLtape with which the ARC file is associated. A sample value is info:lanl-repo/arc/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda .  -->
				<xsd:element ref="ar:ARCfileFile"/>
				<!-- The content of the ARCfileFile element must be the location of the ARC file.  This must be expressed as a file: URI, compliant with RFC 1738, currently being replaced by the Internet Draft http://ietfreport.isoc.org/idref/draft-hoffman-file-uri/. Only one file location can be provided. This information is generated by the aDORe ingestion process. A sample value is file:///data/repository/arcfiles/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda.arc .  -->
				<xsd:element ref="ar:ARCfileIndex"/>
				<!-- The content of the ARCfileIndex element must be the location of the index associated with the ARC file.  This must be expressed as a file: URI, compliant with RFC 1738, currently being replaced by the Internet Draft http://ietfreport.isoc.org/idref/draft-hoffman-file-uri/. Only one file location can be provided. This information is generated by the aDORe ingestion process. A sample value is file:///data/repository/arcfiles/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda.cdx .  -->
                                <xsd:element ref="ar:openurlURL"/>
				<!-- The content of the openurlURL element must be the baseURL of the OpenURL Resolver that provides access to datastreams of all registered ARC files. This must be expressed as a http: URI.  Only one http: URI  can be provided. This information is generated by the aDORe ingestion process. A sample value is http://barracuda.lanl.gov:8080/project/openURL . An OpenURL issued against the OpenURL Resolver must contain the value of the ARCfileId element as the value of the res_id key.  Without this value, the OpenURL Resolver will not be able to derference the identified datastream.  For example, an OpenURL issued towards the XMLtape is of the form http://barracuda.lanl.gov:8080/project/openURL?url_ver=z39.88-2004&res_id=info:lanl-repo/arc/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda&rft_id=info-lanl-repo/ds/.....  .  -->
				<xsd:element ref="ar:ARCfileAdmin"/>
				<!-- The content of the ARCfileAdmin element is copied from the version-1-block section of the ARC file (see ARC file specification at http://pages.alexa.com/company/arcformat.html -->
                                <xsd:element ref="ar:ARCfileDigest" minOccurs="0"/>
                                <!-- The content of the ARCfileDigest element must be the checksum / message digest for the ARC file.  This must be expressed as a urn: URI. Only one digest can be provided. This information is generated by the aDORe ingestion process. A sample value is urn:sha1:c256af1f352b80d105b7003e6b24974f4b16a62d .  -->
			</xsd:sequence>
		</xsd:complexType>
		<xsd:element name="ARCfileFile" type="xsd:anyURI"/>
		<xsd:element name="ARCfileIndex" type="xsd:anyURI"/>
		<xsd:element name="openurlURL" type="xsd:anyURI"/>
		<xsd:element name="ARCfileAdmin" type="xsd:string"/>
                <xsd:element name="ARCfileDigest" type="xsd:anyURI"/> 
<!--
Sample XML document:		

<?xml version="1.0" encoding="UTF-8"?>
<ARCfileRegistry xmlns="http://library.lanl.gov/2005-08/aDORe/ARCfileRegistry/" xmlns:tb="http://library.lanl.gov/2005-08/aDORe/XMLtapeBasics/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://library.lanl.gov/2005-08/aDORe/ARCfileRegistry/ http://purl.lanl.gov/aDORe/schemas/2006-09/ARCfileRegistry.xsd">
<tb:ARCfileId>info:lanl-repo/arc/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda</tb:ARCfileId>
<ARCfileFile>file:///data/repository/arcfiles/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda.arc</ARCfileFile>
<ARCfileIndex>file:///data/repository/arcfiles/arc_abcde77c-d9c0-11d9-b731-b0a8c271beda.cdx</ARCfileIndex>
<openurlURL>http://barracuda.lanl.gov:8080/project/openURL</openurlURL>
<ARCfileAdmin>filedesc://arc_abcde77c-d9c0-11d9-b731-b0a8c271beda.arc 0.0.0.0 20050506160254 text/plain 73 1 0 info:sid/library.lanl.gov</ARCfileAdmin>
<ARCfileDigest>urn:sha1:c256af1f352b80d105b7003e6b24974f4b16a62d</ARCfileDigest> 
</ARCfileRegistry>

-->	
</xsd:schema>
